// [START declaration]
syntax = "proto3";
package logv1;
import "google/protobuf/Duration.proto";
// [END declaration]

// [START go_declaration]
option go_package = "git.blendlabs.com/blend/protos/log/v1";
// [END go_declaration]

// [START messages]
message HttpRequest {
  // method + url are the basics of http
  string method = 10;
  // url is the full / raw url
  string url = 11;
  // the following unpack the url into useful sections.
  string scheme = 12;
  string host = 13;
  string path = 14;
  string queryString = 15;
  // route is kind of implementation specific;
  // it depends on the app having a muxer
  // route should be the path less actual variables
  string route = 16;
  // the following describe the client
  string userAgent = 17;
  // remoteAddr is the reported remote addr for the request
  // very often will be a load balancer or similar
  string remoteAddr = 18;
  // remoteIP should be forwarded addr headers, or the ip component of remoteAddr
  string remoteIP = 19;
  // referrer isn't useful in backend contexts
  // but could be for frontend
  string referrer = 20; 

  // contentLength generally only applies to post requests
  int64 contentLength = 30;
  // contentType generally only applies to post requests
  string contentType = 31;
  // contentEncoding generally only applies to post requests
  string contentEncoding = 32;

  // response fields
  google.protobuf.Duration elapsed = 40;
  int32 statusCode = 41;
  int64 responseContentLength = 42;
  string responseContentEncoding = 43;
  string responseContentType = 44;
} 
// [END messages]
